(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,t,a){e.exports=a(504)},478:function(e,t,a){},500:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){"use strict";a.r(t);a(239),a(288);var n=a(0),r=a.n(n),i=a(109),s=a.n(i),o=a(57),c=a(65),l=a(48),u=a(230),m=a(237),d=a(89),p=a(234),f=a(235),h=a(236),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(478);var v=a(29),E=a(30),b=a(32),w=a(31),C=function(e){return e.children},O=a(23),y=a(35),N="FETCH_CATEG_INIT",T="ADD_CATEG_INIT",k="CHECK_LINK_INIT",j="FETCH_POST_INIT",S=function(){return{type:N}},H=function(){return{type:"FETCH_CATEG_START"}},I=function(e){return{type:"FETCH_CATEG_FAIL",err:e}},A=function(){return{type:"FETCH_CATEG_RESET"}},M=function(e){return{type:"FETCH_CATEG",categ:e}},P=function(e){return{type:"ADD_CATEG",categ:e}},F=function(e,t){return{type:"CHECK_LINK",err:e,media:t}},x=function(){return{type:"FETCH_POST_START"}},L=function(e){return{type:"FETCH_POST_FAIL",err:e}},R=function(e,t,a){return{type:"FETCH_POST",posts:e,skipPost:t,ptTotal:a}},U=a(66),D=a(114),V=a.n(D),B=V.a.create({baseURL:"https://bloggeronly.herokuapp.com"});B.defaults.headers.common.authorization="authorization";var G=B,W=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={show:!1},e.showCategHandler=function(){e.props.onFetchCateg(),e.setState({show:!0})},e.categHandler=function(t){e.props.history.push("/category/".concat(t)),e.setState({show:!1})},e}return Object(E.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"site-header"},r.a.createElement("div",{className:"site-header__top"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"site-header__top--title"},"Our blog..."),r.a.createElement("ul",{className:"site-header__top--social"},r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fab","facebook"],className:"icon icon__site-header--facebook"})),r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fab","twitter"],className:"icon icon__site-header--twitter"})),r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fab","instagram"],className:"icon icon__site-header--inst"})),r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fas","phone"],className:"icon icon__site-header--git"}))))),r.a.createElement("div",{className:"site-header__middle"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"site-header__middle--logo"},"BLOGGERR"),r.a.createElement("input",{disabled:!0,className:"site-header__middle--input",type:"text",placeholder:"search ... "}))),r.a.createElement("nav",{className:"site-header__nav"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",{className:"site-header__nav--wrapper"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",activeClassName:"site-header__nav--active",exact:!0},r.a.createElement(y.a,{icon:["fas","home"]}),"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/create",activeClassName:"site-header__nav--active",exact:!0},r.a.createElement(y.a,{icon:["fas","pen"]}),"Create")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/category",activeClassName:"site-header__nav--active",onClick:this.showCategHandler},r.a.createElement(y.a,{icon:["fas","list"]}),"Category"),this.state.show?r.a.createElement("ul",{className:"site-header__nav--categ"},this.props.categs&&this.props.categs.length>0?this.props.categs.map(function(t,a){return r.a.createElement("li",{key:a,onClick:e.categHandler.bind(e,t)},t)}):this.props.categErr?r.a.createElement("li",null,"Newtwork Error"):r.a.createElement("li",null,"Loading .......")):null)))))}}]),a}(n.Component),K=Object(O.f)(Object(l.b)(function(e){return{categs:e.form.categ,categErr:e.form.categErr}},function(e){return{onFetchCateg:function(){return e(S())}}})(W)),q=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"site-footer"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",{className:"site-footer__author"},"\xa9 2020  by BLOGGERR ")))}}]),a}(n.Component),z=function(e){return r.a.createElement(C,null,r.a.createElement(K,null),e.children,r.a.createElement(q,null))},X=a(231),J=a.n(X),Y=a(232),$=a.n(Y),Q=a(233),Z=a.n(Q),ee=a(149),te=function(e,t){return Object(ee.a)(Object(ee.a)({},e),t)},ae=function(e){for(var t=e.split(","),a=t[0].match(/:(.*?);/)[1],n=atob(t[1]),r=n.length,i=new Uint8Array(r);r--;)i[r]=n.charCodeAt(r);return new Blob([i],{type:a})},ne={suffixAgo:"ago",seconds:"sec",minute:"%d min",minutes:"%d min",hour:"%d hr",hours:"%d hrs",day:"%d day",days:"%d days",month:"%d month",months:"%d months",year:"%d yr",years:"%d yrs"},re=function(e){var t=document.createElement("canvas");return new Promise(function(a,n){t.getContext?(t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0),a(t.toDataURL("image/png"))):n("Please update your Browser")})},ie=function(e,t){var a=!0;return!t||(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),a)},se=function(e){var t=Z()(ne);return r.a.createElement("div",{className:"site-main__blog"},r.a.createElement("div",{className:"site-main__blog--cnt"},r.a.createElement("div",{className:"site-main__blog--cnt__img"},r.a.createElement("img",{src:"https://bloggeronly.herokuapp.com/".concat(e.cnt.image[0].id),alt:"pics"})),r.a.createElement("div",{className:"site-main__blog--cnt__det"},r.a.createElement("h4",{className:"site-main__blog--cnt__det--title"},e.cnt.title),r.a.createElement("p",{className:"site-main__blog--cnt__det--cnt"},e.cnt.desc),r.a.createElement("ul",{className:"site-main__blog--cnt__det--info"},r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fas","calendar"]}),"".concat(new Date(e.cnt.created).getDate(),"/").concat(new Date(e.cnt.created).getMonth()+1,"/ ").concat(new Date(e.cnt.created).getFullYear())),r.a.createElement("li",null,r.a.createElement(y.a,{icon:["fas","clock"]}),r.a.createElement($.a,{date:e.cnt.created,live:!1,formatter:t}))))))},oe=function(e){return J()(e.content,"created",{reverse:!0}).map(function(e,t){return r.a.createElement(se,{key:t,cnt:e})})},ce=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={fetchLimit:5,filterTag:"post"},e.nextHandler=function(t){e.props.onFetchPostReset(),e.props.onFetchPost(null,e.state.filterTag,e.state.fetchLimit,1===t?0:e.state.fetchLimit*(t-1),0)},e}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchPost(null,this.state.filterTag,this.state.fetchLimit,0,0)}},{key:"componentDidUpdate",value:function(){if(this.props.match.params.id&&this.props.match.params.id!==this.state.filterTag){this.props.onFetchPostReset();var e=this.props.match.params.id;this.props.onFetchPost(null,e,this.state.fetchLimit,0,0),this.setState({filterTag:e})}}},{key:"render",value:function(){var e="Loading ....";this.props.postErr&&(e="Network Error"),this.props.posts&&0===this.props.posts.length&&(e="No content found"),this.props.posts&&this.props.posts.length>0&&!this.props.postErr&&(e=r.a.createElement(oe,{content:this.props.posts}));for(var t=[],a=1;a<=Math.ceil(this.props.ptTotal/this.state.fetchLimit);a++)t.push(r.a.createElement("li",{key:a,onClick:this.nextHandler.bind(this,a),className:"site-main__blog--paginate__item site-main__blog--paginate__item--active"},a));return r.a.createElement(r.a.Fragment,null,e,r.a.createElement("ul",{className:"site-main__blog--paginate"},t))}}]),a}(n.Component),le=Object(O.f)(Object(l.b)(function(e){return{posts:e.pt.posts,skipPost:e.pt.skipPost,ptTotal:e.pt.ptTotal,postErr:e.pt.postErr}},function(e){return{onFetchPost:function(t,a,n,r,i){return e(function(e,t,a,n,r){return{type:j,userID:e,fetchType:t,fetchLimit:a,skipPost:n,ptTotal:r}}(t,a,n,r,i))},onFetchPostReset:function(){return e({type:"FETCH_POST_RESET"})}}})(ce)),ue=a(115),me=a(58),de=(a(500),a(112)),pe=a(91),fe=a.n(pe),he=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={url:null},e}return Object(E.a)(a,[{key:"render",value:function(){var e=null;return this.props.url&&(e=r.a.createElement("img",{src:this.props.url,alt:"pics",className:"site-form__itm--det__view-select--media__wrapper--preview "})),r.a.createElement("div",{className:"site-form__itm--det__view-select--media"},r.a.createElement("div",{className:"site-form__itm--det__view-select--media__wrapper"},e))}}]),a}(n.Component),_e=Object(l.b)(null,function(e){return{}})(he),ge=r.a.createRef(null),ve=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",media:null,removeMediaItemIndex:null,snapshotErr:null,mediaUrl:e.props.media&&e.props.media.image&&e.props.media.image.length>0?e.props.media.image[0].imageUrl:null,err:null,startCapture:!1,start:!1},e.linkVerifyHandler=function(t){var a=t.target.value;e.setState({inputValue:a,snapshotErr:null}),e.props.onCheckLink(a),e.state.startCapture&&(ge.current.srcObject.getVideoTracks().forEach(function(e){e.stop()}),e.setState({startCapture:!1}))},e.addMediaHandler=function(){e.props.linkValid&&e.props.linkValid.media&&(e.setState({media:{file:e.props.linkValid.media.file,url:e.props.linkValid.media.url,id:fe()()},inputValue:""}),e.props.onResetLink())},e.openCameraHandler=function(){"mediaDevices"in navigator||(navigator.mediaDevices={}),"getUserMedia"in navigator.mediaDevices||(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(function(a,n){t.call(navigator,e,a,n)}):Promise.reject(new Error("getUserMedia is not implemented!"))});var t=Object(de.a)(e);navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){ge.current.srcObject=e,t.setState({startCapture:!0,mediaUrl:null})}).catch(function(e){t.setState({err:e,startCapture:!1})})},e.captureImageHandler=function(){re(ge.current).then(function(t){ge.current.srcObject.getVideoTracks().forEach(function(e){e.stop()});var a=ae(t),n=window.URL.createObjectURL(a);e.setState({mediaUrl:n,startCapture:!1}),e.props.onSubmitMedia(te(e.state.media,{image:[{file:a,url:n,id:fe()()}]}))}).catch(function(t){e.setState({err:t})})},e.selectMediaHandler=function(t){if(e.setState({snapshotErr:null}),t.stopPropagation(),t.preventDefault(),t.target.files){var a=t.target.files;e.handleFiles(a)}},e.dragEnterMediaHandler=function(e){e.stopPropagation(),e.preventDefault()},e.dragOverMediaHandler=function(e){e.stopPropagation(),e.preventDefault()},e.dropMediaHandler=function(t){if(t.stopPropagation(),t.preventDefault(),t.dataTransfer){var a=t.dataTransfer.files;e.handleFiles(a)}},e.removeMediaItemEnableHandler=function(t){e.setState({removeMediaItemIndex:t})},e.removeMediaItemDisableHandler=function(){e.setState({removeMediaItemIndex:null})},e.removeMediaItemHandler=function(t){var a=Object(me.a)(e.state.media).filter(function(e){return e.id!==t});e.setState({media:a}),e.props.media.image&&e.props.media.image.length>0&&e.props.onRemoveMedia(te(e.props.media,{image:a}))},e.handleFiles=function(t){e.state.startCapture&&(ge.current.srcObject.getVideoTracks().forEach(function(e){e.stop()}),e.setState({startCapture:!1}));var a=t[0];if(a.type.startsWith("image/")){var n=window.URL.createObjectURL(a);e.setState({mediaUrl:n}),e.props.onSubmitMedia(te(e.state.media,{image:[{file:a,url:n,id:fe()()}]}))}},e.closeMediaBoxHandler=function(){e.props.onhideMediaBox(),ge.current&&ge.current.srcObject&&ge.current.srcObject.getVideoTracks().forEach(function(e){e.stop()})},e}return Object(E.a)(a,[{key:"render",value:function(){var e=null,t=null,a=["site-form__itm--det__view-select--media__wrapper--video"],n=null;return(this.props.linkValid||this.state.err)&&(e=this.props.linkValid&&this.props.linkValid.err?r.a.createElement("div",{className:"site-form__err"},this.props.linkValid.err.message):this.state.err?r.a.createElement("div",{className:"site-form__err"},this.state.err.message):null),this.state.mediaUrl&&(t=r.a.createElement("div",{className:"site-form__itm--det__view-select"},r.a.createElement(_e,{url:this.state.mediaUrl}))),!this.state.err&&this.state.startCapture&&(a.push("site-form__itm--det__view-select--media__wrapper--video__show"),n=r.a.createElement("div",{className:"site-form__itm--footer site-form__btn"},r.a.createElement("button",{type:"button",className:"site-form__btn--add",onClick:this.captureImageHandler},"Capture"))),r.a.createElement("div",{className:"site-form__cnt--wrapper"},r.a.createElement("div",{className:"site-form__itm"},r.a.createElement("h4",{className:"site-form__itm--title"},"Add Image (*)"),r.a.createElement("div",{className:"site-form__itm--det"},r.a.createElement("div",{className:"site-form__itm--det__view"},e),r.a.createElement("div",{className:"site-form__itm--det__camera",onClick:this.openCameraHandler},r.a.createElement(y.a,{icon:["fas","camera"],className:"icon icon__site-form--itm--camera"}),"Take Snapshot"),r.a.createElement("div",{className:"site-form__itm--det__alt"},"OR"),r.a.createElement("div",{className:"site-form__cnt"},r.a.createElement("div",{className:"site-form__cnt--det"},r.a.createElement("div",{className:"site-form__cnt--det__fil"},r.a.createElement("div",null,"Upload Image"),r.a.createElement("input",{type:"file",name:"",className:"site-form__cnt--det__fil--input",onChange:this.selectMediaHandler,onDragEnter:this.dragEnterMediaHandler,onDragOver:this.dragOverMediaHandler,onDrop:this.dropMediaHandler,accept:"image/*"})))),r.a.createElement("video",{ref:ge,autoPlay:!0,className:a.join(" ")},r.a.createElement("p",null,"our browser doesn't support embedded videos")),n,this.state.snapshotErr?r.a.createElement("div",{className:"site-form__err"},"Some features are not available in your browser, ",this.state.snapshotErr):null,t)))}}]),a}(n.Component),Ee=Object(l.b)(function(e){return{linkValid:e.form.linValid,media:e.form.media,imageCapture:e.form.imageCapture}},function(e){return{onCheckLink:function(t){return e({type:k,link:t,mediaType:"image"})},onResetLink:function(){return e({type:"RESET_LINK"})},onRemoveMedia:function(t){return e(function(e){return{type:"REMOVE_MEDIA",media:e}}(t))},onSubmitMedia:function(t){return e(function(e){return{type:"SUBMIT_MEDIA",media:e}}(t))},onhideMediaBox:function(){return e({type:"HIDE_MEDIA_BOX"})}}})(ve),be=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showCateg:!1,categs:[],noCateg:!1,addCateg:null,disable:!0,addNewCateg:!0,addCategInput:"",categActiveProps:{active:!1,index:null},showAddItm:!1,showAddItmOpt:!0,formElement:{title:{value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1},content:{value:"",validation:{required:!0,minLength:1},valid:!1,touched:!1}},formIsValid:!1},e.showCategHandler=function(){if(!e.state.showCateg)return e.props.onFetchCateg(),void e.setState({showCateg:!0});e.setState({showCateg:!1})},e.selectCategHandler=function(t){e.setState({categs:[t],noCateg:!1})},e.addCategHandler=function(t){var a=t.target.value;e.setState({addCateg:a,addCategInput:a,disable:a.length<1})},e.addNewCategHandler=function(){e.props.onAddCateg(e.state.addCateg),e.setState({addNewCateg:!0,addCategInput:"",disable:!0})},e.categActiveHandler=function(t){e.setState({categActiveProps:{active:!0,index:t}})},e.categDefaultHandler=function(){e.setState({categActiveProps:{active:!1,index:null}})},e.removeCategSelectHandler=function(t){var a=Object(me.a)(e.state.categs).filter(function(e,a){return a!==t});e.setState({categs:a})},e.addItemHandler=function(){e.setState(function(e,t){return{showAddItm:!e.showAddItm}})},e.inputChangedHandler=function(t,a){var n=te(e.state.formElement[a],{value:t.target.value,valid:ie(t.target.value,e.state.formElement[a].validation),touched:!0}),r=!0,i=te(e.state.formElement,Object(ue.a)({},a,n));for(var s in i)r=i[s].valid&&r;e.setState({formElement:i,formIsValid:r})},e.submitHandler=function(){if(e.state.formIsValid&&e.state.categs.length>0){var t={categ:e.state.categs,desc:e.state.formElement.content.value,title:e.state.formElement.title.value,image:e.props.media.image?e.props.media.image:[]};e.props.onSubmitForm(t)}else e.setState({noCateg:!0})},e.closeModalHandler=function(){window.location.reload()},e}return Object(E.a)(a,[{key:"componentDidUpdate",value:function(){if(this.state.showCateg&&!this.props.showCateg&&this.setState({showCateg:!1}),this.state.addNewCateg&&this.props.newCateg){var e=Object(me.a)(this.state.categs);this.setState({categs:this.props.newCateg,addNewCateg:!1,noCateg:!e.length>1})}if(100===this.props.uploadPercent&&this.props.id){if(this.props.media.image){var t,a=Object(U.a)(this.props.media.image);try{for(a.s();!(t=a.n()).done;){var n=t.value;window.URL.revokeObjectURL(n.url)}}catch(o){a.e(o)}finally{a.f()}}if(this.props.media.video){var r,i=Object(U.a)(this.props.media.video);try{for(i.s();!(r=i.n()).done;){var s=r.value;window.URL.revokeObjectURL(s.url)}}catch(o){i.e(o)}finally{i.f()}}window.location.assign("/")}}},{key:"render",value:function(){var e=this,t=null,a=["site-form__cnt--det__selec site-form__cnt--det__selec--categ"],n=null;return this.state.showAddItm&&(["site-form__cnt--det__selec site-form__cnt--det__selec--add"].push("site-form__cnt--det__selec--add__visible icon--rotate"),["site-form__cnt--det__selec--opt"].push("site-form__cnt--det__selec--opt__visible")),this.state.showCateg&&!this.props.categ&&(a.push("icon--rotate"),t=r.a.createElement("ul",{className:"site-form__cnt--det__selec--opt site-form__cnt--det__selec--opt__visible"},r.a.createElement("li",{className:"site-form__cnt--det__selec--opt__loading"},"Loading ..."))),this.state.showCateg&&this.props.categ&&(a.push("icon--rotate"),t=r.a.createElement("ul",{className:"site-form__cnt--det__selec--opt site-form__cnt--det__selec--opt__visible"},this.props.categ.map(function(t,a){return r.a.createElement("li",{key:a,onClick:e.selectCategHandler.bind(e,t)},t)}))),this.state.categs.length>0&&(n=r.a.createElement("div",{className:"site-form__cnt--tag"},this.state.categs.join(""))),r.a.createElement("form",{className:"site-form"},r.a.createElement("div",{className:"site-form__wrapper"},this.props.uploadPercent?r.a.createElement("div",{style:{width:"".concat(this.props.uploadPercent,"%"),height:2,backgroundColor:"green",position:"absolute",top:"0"}}):null,r.a.createElement("div",{className:"site-form__cnt"},r.a.createElement("div",{className:"site-form__cnt--wrapper"},r.a.createElement("label",{className:"site-form__cnt--title"},"Category (*)"),r.a.createElement("div",{className:"site-form__cnt--det"},r.a.createElement("div",{className:"site-form__cnt--det__wrapper"},r.a.createElement("div",{className:a.join(" "),onClick:this.showCategHandler},"Category",r.a.createElement(y.a,{icon:["fas","angle-down"],className:"icon icon__site-form--angle"}),t),r.a.createElement("div",{className:"site-form__cnt--det__alt"},r.a.createElement("div",{className:"site-form__cnt--det__alt--title"},r.a.createElement("div",null,"or")),r.a.createElement("div",{className:"site-form__cnt--det__alt--cnt"},r.a.createElement("input",{type:"text",name:"",id:"",className:"site-form__cnt--det__input",placeholder:"Write new category ...",value:this.state.addCategInput,onChange:this.addCategHandler}),r.a.createElement("button",{type:"button",onClick:this.addNewCategHandler,disabled:this.state.disable},"ADD"))))),n,this.state.noCateg?r.a.createElement("div",{className:"site-form__err"},"Select or Add New Category"):null),r.a.createElement("div",{className:"site-form__cnt--wrapper"},r.a.createElement("label",{className:"site-form__cnt--title"},"Post Title (*)"),r.a.createElement("div",{className:"site-form__cnt--det"},r.a.createElement("input",{type:"text",name:"",required:!0,minLength:"1",value:this.state.formElement.title.value,className:"site-form__cnt--det__input site-form__cnt--det__input--lg",onChange:function(t){return e.inputChangedHandler(t,"title")}})),!this.state.formElement.title.valid&&this.state.formElement.title.touched?r.a.createElement("div",{className:"site-form__err"},"Post title must not be empty "):null),r.a.createElement("div",{className:"site-form__cnt--wrapper"},r.a.createElement("label",{className:"site-form__cnt--title"},"Description (*)"),r.a.createElement("div",{className:"site-form__cnt--det"},r.a.createElement("textarea",{value:this.state.formElement.content.value,className:"site-form__cnt--det__info",onChange:function(t){return e.inputChangedHandler(t,"content")}})),!this.state.formElement.content.valid&&this.state.formElement.content.touched?r.a.createElement("div",{className:"site-form__err"},"Description must not be empty"):null)),r.a.createElement(Ee,null),this.props.submitError?r.a.createElement("div",{className:"site-form__err"},"Network Error"):null,r.a.createElement("div",{className:"site-form__footer site-form__btn"},r.a.createElement("button",{type:"button",className:"site-form__btn--add",disabled:this.props.uploadPercent||!this.state.formIsValid||this.state.categs.length<1||!this.props.media.image,onClick:this.submitHandler},this.props.uploadPercent?"".concat(this.props.uploadPercent,"%"):"ADD"))))}}]),a}(n.Component),we=Object(l.b)(function(e){return{categ:e.form.categ,categErr:e.form.categErr,showCateg:e.form.showCateg,newCateg:e.form.newCateg,snapshot:e.form.snapshot,media:e.form.media,uploadPercent:e.form.uploadPercent,submitForm:e.form.submitForm,submitError:e.form.submitError,id:e.form.id}},function(e){return{onFetchCateg:function(){return e(S())},onAddCateg:function(t){return e(function(e){return{type:T,categ:e}}(t))},onSubmitForm:function(t){return e(function(e){return function(t){t({type:"SUBMIT_FORM_START"});var a=new FormData;for(var n in e){if("video"!==n&&"image"!==n&&a.append(n,e[n]),"video"===n&&e[n].length>0){var r,i=Object(U.a)(e[n]);try{for(i.s();!(r=i.n()).done;){var s=r.value,o=s.file.type.split("/").pop();a.append(n,s.file,"".concat(s.id,".").concat(o))}}catch(d){i.e(d)}finally{i.f()}}if("image"===n&&e[n].length>0){var c,l=Object(U.a)(e[n]);try{for(l.s();!(c=l.n()).done;){var u=c.value,m=u.file.type.split("/").pop();a.append(n,u.file,"".concat(u.id,".").concat(m))}}catch(d){l.e(d)}finally{l.f()}}}G.post("/add/blog",a,{onUploadProgress:function(e){if(e.lengthComputable){var a=Math.round(100*e.loaded/e.total);t({type:"SUBMIT_FORM_SUCCESS",uploadPercent:a})}}}).then(function(e){t({type:"FORM_SUBMITTED",id:e.data})}).catch(function(e){t(function(e){return{type:"SUBMIT_FORM_FAIL",err:e}}(e))})}}(t))}}})(be),Ce=function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"site-main"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/create",exact:!0,component:we}),r.a.createElement(O.a,{path:"/category/:id",exact:!0,component:le}),r.a.createElement(le,{path:"/",component:le}))))}}]),a}(n.Component),Oe=Object(O.f)(Ce),ye=(a(503),function(e){Object(b.a)(a,e);var t=Object(w.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return r.a.createElement(z,null,r.a.createElement(Oe,null))}}]),a}(n.Component)),Ne={posts:null,skipPost:null,ptTotal:null,showLoader:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST":return function(e,t){var a,n=e.posts?(a=e.posts).concat.apply(a,Object(me.a)(t.posts)):t.posts;return te(e,{posts:n,skipPost:t.skipPost,ptTotal:t.ptTotal,showLoader:!1})}(e,t);case"FETCH_POST_START":return function(e,t){return te(e,{showLoader:!0})}(e);case"FETCH_POST_RESET":return function(e,t){return te(e,{posts:null,skipPost:null,ptTotal:null,showLoader:!1})}(e);case"FETCH_POST_FAIL":return function(e,t){return te(e,{postErr:t.err,showLoader:!1})}(e,t);default:return e}},ke={categ:null,showCateg:!1,categErr:null,newCateg:null,hideMediaBox:!1,hidAddItm:!1,linkValid:null,snapshot:[],media:{},curTab:"online",startUser:!0,users:null,onlineUser:[],offlineUser:[],filteredUser:null,defaultValue:!1,uploadPercent:null,submitError:null,submitForm:!1,imageCapture:null,id:null},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEG_START":return function(e,t){return te(e,{showCateg:!0,categErr:null})}(e);case"FETCH_CATEG_FAIL":return function(e,t){return te(e,{categErr:{message:t.err.message,code:t.err.code}})}(e,t);case"FETCH_CATEG_RESET":return function(e,t){return te(e,{categErr:null,showCateg:!1})}(e);case"FETCH_CATEG":return function(e,t){return te(e,{categ:t.categ,showCateg:null!==t.categ})}(e,t);case"ADD_CATEG":return function(e,t){return te(e,{newCateg:t.categ})}(e,t);case"HIDE_MEDIA_BOX":return function(e,t){return te(e,{hideMediaBox:!0})}(e);case"SHOW_MEDIA_BOX":return function(e,t){return te(e,{hideMediaBox:!1})}(e);case"CHECK_LINK":return function(e,t){return te(e,{linkValid:{err:t.err,media:t.media}})}(e,t);case"RESET_LINK":return function(e,t){return te(e,{linkValid:null})}(e);case"ADD_SNAPSHOT":case"REMOVE_SNAPSHOT":return function(e,t){return te(e,{snapshot:t.snapshot})}(e,t);case"IMAGE_CAPTURE":return function(e,t){return te(e,{imageCapture:t.imageCapture})}(e,t);case"REMOVE_MEDIA":return function(e,t){return te(e,{media:t.media})}(e,t);case"SUBMIT_MEDIA":return function(e,t){return te(e,{media:t.media,hideMediaBox:!0})}(e,t);case"SUBMIT_FORM_START":return function(e,t){return te(e,{submitForm:!0,submitError:null,submitFiles:0})}(e);case"SUBMIT_FORM_SUCCESS":return function(e,t){return te(e,{uploadPercent:t.uploadPercent})}(e,t);case"SUBMIT_FORM_FAIL":return function(e,t){return te(e,{submitError:{message:t.err.message,code:t.err.code}})}(e,t);case"FORM_SUBMITTED":return function(e,t){return te(e,{id:t.id})}(e,t);default:return e}},Se=a(36),He=a.n(Se),Ie=a(24),Ae=He.a.mark(Fe),Me=He.a.mark(xe),Pe=He.a.mark(Le);function Fe(e){var t,a;return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ie.c)(H());case 3:return e.next=5,G.post("/category",null,{headers:{"data-categ":"category"}});case 5:return t=e.sent,a=t.data&&t.data.length>0?t.data:[],e.next=9,Object(Ie.c)(M(a));case 9:e.next=19;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(Ie.c)(I(e.t0));case 15:return e.next=17,Object(Ie.b)(2e3);case 17:return e.next=19,Object(Ie.c)(A());case 19:case"end":return e.stop()}},Ae,null,[[0,11]])}function xe(e){var t,a,n,r,i,s;return He.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=String(e.categ).split(","),a=[],n=Object(U.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,a.push(String(i).trim().charAt(0).toUpperCase()+String(i).trim().toLowerCase().slice(1))}catch(c){n.e(c)}finally{n.f()}return s=Object(me.a)(new Set(a)),o.next=7,Object(Ie.c)(P(s));case 7:case"end":return o.stop()}},Me)}function Le(e){var t,a;return He.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=String(e.link).trim(),n.prev=1,n.next=4,V.a.get(t,{responseType:"blob",timeout:1e4});case 4:if(!(a=n.sent).data.type.startsWith(e.mediaType+"/")){n.next=9;break}return n.next=8,Object(Ie.c)(F(null,{file:a.data,url:window.URL.createObjectURL(a.data)}));case 8:return n.abrupt("return");case 9:throw new Error("Unknown format, Only ".concat(e.mediaType," files"));case 12:return n.prev=12,n.t0=n.catch(1),n.next=16,Object(Ie.c)(F(n.t0,null));case 16:case"end":return n.stop()}},Pe,null,[[1,12]])}var Re=He.a.mark(Ue);function Ue(e){var t;return He.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.ptTotal>e.skipPost)){a.next=3;break}return a.next=3,Object(Ie.c)(x());case 3:if(a.prev=3,!(0===e.ptTotal||e.ptTotal>e.skipPost)){a.next=10;break}return a.next=7,G.post("/blog",null,{headers:{"data-categ":e.fetchType,limit:e.fetchLimit,skip:e.skipPost}});case 7:return t=a.sent,a.next=10,Object(Ie.c)(R(t.data.cnt,e.skipPost,t.data.cntTotal));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(3),a.next=16,Object(Ie.c)(L(a.t0));case 16:case"end":return a.stop()}},Re,null,[[3,12]])}var De=He.a.mark(Be),Ve=He.a.mark(Ge);function Be(){return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.d)(N,Fe),Object(Ie.d)(T,xe),Object(Ie.d)(k,Le)]);case 2:case"end":return e.stop()}},De)}function Ge(){return He.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(j,Ue)]);case 2:case"end":return e.stop()}},Ve)}var We=Object(m.a)(),Ke=Object(c.c)({pt:Te,form:je}),qe=Object(c.e)(Ke,Object(c.a)(u.a,We));We.run(Be),We.run(Ge),d.b.add(p.a,f.a,h.a);var ze=r.a.createElement(l.a,{store:qe},r.a.createElement(o.a,null,r.a.createElement(ye,null)));s.a.render(ze,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");_?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):g(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):g(t,e)})}}()}},[[238,1,2]]]);
//# sourceMappingURL=main.49d59dfa.chunk.js.map